#include "../src/rotations.h"

#include <assert.h>

// 3x3 horizontal
// 0 1 2    2 1 0
// 3 4 5 => 5 4 3
// 6 7 8    8 7 6
void test_h3() {
    int r[] = {2, 1, 0, 5, 4, 3, 8, 7, 6};
    for (int i = 0; i < 9; i++) assert(mirror_h3(i) == r[i]);
}

// 4x4 horizontal
//  0  1  2  3     3  2  1  0
//  4  5  6  7 =>  7  6  5  4
//  8  9 10 11    11 10  9  8
// 12 13 14 15    15 14 13 12
void test_h4() {
    int r[] = {3, 2, 1, 0, 7, 6, 5, 4, 11, 10, 9, 8, 15, 14, 13, 12};
    for (int i = 0; i < 9; i++) assert(mirror_h4(i) == r[i]);
}

// 5x5 horizontal
//  0  1  2  3  4     4  3  2  1  0
//  5  6  7  8  9     9  8  7  6  5
// 10 11 12 13 14 => 14 13 12 11 10
// 15 16 17 18 19    19 18 17 16 15
// 20 21 22 23 24    24 23 22 21 20
void test_h5() {
    int r[] = {4,  3,  2,  1,  0,  9,  8,  7,  6,  5,  14, 13, 12,
               11, 10, 19, 18, 17, 16, 15, 24, 23, 22, 21, 20};
    for (int i = 0; i < 9; i++) assert(mirror_h5(i) == r[i]);
}

// 6x6 horizontal
//  0  1  2  3  4  5     5  4  3  2  1  0
//  6  7  8  9 10 11    11 10  9  8  7  6
// 12 13 14 15 16 17 => 17 16 15 14 13 12
// 18 19 20 21 22 23    23 22 21 20 19 18
// 24 25 26 27 28 29    29 28 27 26 25 24
// 30 31 32 34 34 35    35 34 33 32 31 30
void test_h6() {
    int r[] = {5,  4,  3,  2,  1,  0,  11, 10, 9,  8,  7,  6,  17, 16, 15, 14, 13, 12,
               23, 22, 21, 20, 19, 18, 29, 28, 27, 26, 25, 24, 35, 34, 33, 32, 31, 30};
    for (int i = 0; i < 9; i++) assert(mirror_h6(i) == r[i]);
}

// 7x7 horizontal
//  0  1  2  3  4  5  6     6  5  4  3  2  1  0
//  7  8  9 10 11 12 13    13 12 11 10  9  8  7
// 14 15 16 17 18 19 20    20 19 18 17 16 15 14
// 21 22 23 24 25 26 27 => 27 26 25 24 23 22 21
// 28 29 30 31 32 33 34    34 33 32 31 30 29 28
// 35 36 37 38 39 40 41    41 40 29 28 27 26 25
// 42 43 44 45 46 47 48    48 47 46 45 44 43 42
void test_h7() {
    int r[] = {6,  5,  4,  3,  2,  1,  0,  13, 12, 11, 10, 9,  8,  7,  20, 19, 18,
               17, 16, 15, 14, 27, 26, 25, 24, 23, 22, 21, 34, 33, 32, 31, 30, 29,
               28, 41, 40, 29, 28, 27, 26, 25, 48, 47, 46, 45, 44, 43, 42};
    for (int i = 0; i < 9; i++) assert(mirror_h7(i) == r[i]);
}

// 8x8 horizontal
//  0  1  2  3  4  5  6  7     7  6  5  4  3  2  1  0
//  8  9 10 11 12 13 14 15    15 14 13 12 11 10  9  8
// 16 17 18 19 20 21 22 23    23 22 21 20 19 18 17 16
// 24 25 26 27 28 29 30 31 => 31 30 29 28 27 26 25 24
// 32 33 34 35 36 37 38 39    39 38 37 36 35 34 33 32
// 40 41 42 43 44 45 46 47    47 46 45 44 43 42 41 40
// 48 49 50 51 52 53 54 55    55 54 53 52 51 50 49 48
// 56 57 58 59 60 61 62 63    63 62 61 60 59 58 57 56
void test_h8() {
    int r[] = {7,  6,  5,  4,  3,  2,  1,  0,  15, 14, 13, 12, 11, 10, 9,  8,
               23, 22, 21, 20, 19, 18, 17, 16, 31, 30, 29, 28, 27, 26, 25, 24,
               39, 38, 37, 36, 35, 34, 33, 32, 47, 46, 45, 44, 43, 42, 41, 40,
               55, 54, 53, 52, 51, 50, 49, 48, 63, 62, 61, 60, 59, 58, 57, 56};
    for (int i = 0; i < 9; i++) assert(mirror_h8(i) == r[i]);
}

// 3x3 vertical
// 0 1 2    6 7 8
// 3 4 5 => 3 4 5
// 6 7 8    0 1 2
void test_v3() {
    int r[] = {6, 7, 8, 3, 4, 5, 0, 1, 2};
    for (int i = 0; i < 9; i++) assert(mirror_v3(i) == r[i]);
}

// 4x4 vertical
//  0  1  2  3    12 13 14 15
//  4  5  6  7 =>  8  9 10 11
//  8  9 10 11     4  5  6  7
// 12 13 14 15     0  1  2  3
void test_v4() {
    int r[] = {12, 13, 14, 15, 8, 9, 10, 11, 4, 5, 6, 7, 0, 1, 2, 3};
    for (int i = 0; i < 9; i++) assert(mirror_v4(i) == r[i]);
}

int main() {
    test_h3();
    test_h4();
    test_h5();
    test_h6();
    test_h7();
    test_h8();

    test_v3();
    test_v4();
    // TODO: finish vertical tests

    return 0;
}